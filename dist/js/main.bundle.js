!function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(s&&s(t);f.length;)f.shift()();return l.push.apply(l,u||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=c;l.push([7,1]),a()}([,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBooleanField=t.useFormField=t.ESocialMedia=void 0;const n=a(0);!function(e){e.fb="1",e.vk="2",e.ok="3"}(t.ESocialMedia||(t.ESocialMedia={})),t.useFormField=e=>{const[t,a]=n.useState(e);return n.useEffect(()=>{a(e)},[e]),{value:t,onChange:n.useCallback(e=>{a(e.target.value)},[])}},t.useBooleanField=e=>{const[t,a]=n.useState(e);return n.useEffect(()=>{a(e)},[e]),{checked:t,onChange:n.useCallback(e=>{a(e.target.checked)},[])}}},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0));t.default=({name:e,className:t,style:a,variant:n})=>{let l="";return n&&(l="lg"===n?"icon-lg":"icon-xl"),r.default.createElement("svg",{className:`icon ${t||""} ${l}`,style:a},r.default.createElement("use",{xlinkHref:`#${e}`}))}},,,,function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SOCIAL_MEDIA=t.convertHTML2Friends=void 0;const r=a(1),l=n(a(17));var i=a(18);t.convertHTML2Friends=e=>{const t=c(e),a=o(t);return Promise.resolve([a,(null==a?void 0:a.parser(e))||[]])};const o=e=>t.SOCIAL_MEDIA.find(({id:t})=>t===e),c=e=>/\.userapi\.com/i.test(e)?r.ESocialMedia.vk:/i\.mycdn\.me/i.test(e)?r.ESocialMedia.ok:/ajax\/hovercard\/user\.php/i.test(e)?r.ESocialMedia.fb:void 0;t.SOCIAL_MEDIA=[{id:r.ESocialMedia.fb,site:"https://www.facebook.com/",idPrefix:"",title:"Facebook",parser:e=>{let t=[];const a=l.default(e);return l.default("li",a).each((function(){const e=this;var a=l.default("a[data-hovercard]",e).eq(0).data("hovercard");if(a){var n=a.match(/hovercard\/user.php\?id=(\d+)/);if(n&&n[1]){var r=n[1];const a=l.default('img[role="img"]',e).attr("aria-label");var o=i(l.default('img[role="img"]',e).attr("src"));t.push({fbID:r,title:a,face:o})}}})),t}},{id:r.ESocialMedia.vk,site:"https://vk.com/",idPrefix:"id",title:"Вконтакте",parser:e=>{let t=[];const a=l.default(e);return l.default(".friends_user_row",a).each((function(){let e=this;var a=l.default(e).attr("id").match(/friends_user_row(\d+)/);if(a&&a[1]){var n=a[1],r=l.default(".friends_field_title a",e).html().replace(/<br>/gi," "),i=l.default("img.friends_photo_img",e).attr("src");t.push({fbID:n,title:r,face:i})}})),t}},{id:r.ESocialMedia.ok,site:"https://ok.ru/",idPrefix:"profile/",title:"Одноклассники",parser:e=>{let t=[];const a=l.default(e);return l.default(".ugrid_i",a).each((function(){var e=l.default(".entity-item",this).data("entity-id"),a=l.default(".ucard-w_t a",this).html().replace(/<br>/gi," "),n="https:"+l.default("img.photo_img",this).attr("src");t.push({fbID:e,title:a,face:n})})),t}}]},function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(a(0)),l=n(a(9)),i=a(4),o=n(a(15));i.locale("uk"),l.default.render(r.default.createElement(o.default,null),document.getElementById("app"))},,,,,,,function(e,t,a){var n={"./uk":5,"./uk.js":5};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=14},function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},i=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=l(a(0)),u=o(a(16)),s=a(6),d=o(a(2)),f=a(20);t.default=({})=>{const[e,t]=c.useState(""),[a,n]=c.useState(),[r,l]=c.useState([]);c.useEffect(()=>{(e=>{i(void 0,void 0,void 0,(function*(){try{const[t,a]=yield s.convertHTML2Friends(e);n(t),l(a)}catch(e){alert(e),n(void 0),l([])}}))})(e)},[e]);return c.default.createElement("div",{className:"container mb-3"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col"},c.default.createElement("h3",{className:"text-center"},c.default.createElement(d.default,{name:"bi-code-slash"})," Додайте html-код в текстову область та отримайте файл"),c.default.createElement("textarea",{className:"form-control",rows:10,placeholder:"html-код елементу, що містить записи про друзів",autoComplete:"off",value:e,onChange:e=>t(e.target.value.trim())}),c.default.createElement(u.default,{socialMediaId:null==a?void 0:a.id,friends:r,onFriendsLoaded:()=>t("")}))),a&&c.default.createElement(f.FriendList,{socialMedia:a,friends:r}))}},function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=l(a(0)),c=a(1),u=i(a(2)),s=a(6);t.default=({socialMediaId:e,friends:t,onFriendsLoaded:a})=>{const n=0<t.length&&t.length<=200,r=c.useBooleanField(n),[l,i]=o.useState("");return o.default.createElement("form",{action:"getFriends.php",method:"post",className:"form-inline justify-content-center mt-3",target:"_blank",onSubmit:()=>(setTimeout(()=>{a(),i("")},100),!0)},o.default.createElement("input",{type:"hidden",name:"smID",value:e||"0"}),o.default.createElement("input",{type:"hidden",name:"relationType",value:"1"}),o.default.createElement("input",{type:"hidden",name:"data",value:encodeURIComponent(JSON.stringify(t.map(t=>Object.assign(Object.assign({},t),{smID:parseInt(e||"0",10),relationType:1}))))}),o.default.createElement("div",{className:"form-group"},o.default.createElement("label",{className:"control-label",htmlFor:"fake_smID"},"Соціальна мережа"),o.default.createElement("select",{id:"fake_smID",className:"form-control ml-1",autoComplete:"off",disabled:!0,value:e||"0"},o.default.createElement("option",{disabled:!0,value:"0"},"Не визначено"),s.SOCIAL_MEDIA.map(({id:e,title:t})=>o.default.createElement("option",{key:e,value:e},t)))),o.default.createElement("div",{className:"form-group ml-3"},o.default.createElement("label",{className:"control-label",htmlFor:"filename"},"Ім'я вихідного файлу"),o.default.createElement("input",{type:"text",className:"form-control ml-1",name:"filename",id:"filename",placeholder:"Ім'я вихідного файлу",autoComplete:"off",value:l,onChange:e=>{const t=e.target;i(t.value)}})),o.default.createElement("div",{className:"form-check ml-3",title:"Додати до вихідного файлу зображення обліковок"},o.default.createElement("input",Object.assign({id:"withfaces",name:"withfaces",type:"checkbox"},r,{autoComplete:"off",className:"form-check-input",disabled:!n})),o.default.createElement("label",{htmlFor:"withfaces",className:"form-check-label ml-1"},"Додати зображення")),o.default.createElement("button",{type:"submit",className:"btn btn-primary ml-3",disabled:!e||0===t.length},o.default.createElement(u.default,{name:"bi-download",variant:"lg"})," Отримати файл"))}},,,,function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FriendList=void 0;const o=l(a(0)),c=a(21),u=i(a(2));t.FriendList=({friends:e,socialMedia:t})=>{const{site:a,idPrefix:n,id:r}=t,l=100<e.length;return o.createElement("div",{className:"row mt-2"},o.createElement("div",{className:"col-12"},o.createElement("h4",{className:"text-center text-info mb-2"},o.createElement(u.default,{name:`icon-sm-${r}`,variant:"lg",className:"mr-2"}),"Загальна кількість друзів: ",e.length,l&&o.createElement("small",{className:"ml-2"},"(показані перші ",100,")"))),o.createElement("div",{className:"col-12 friend-list"},e.slice(0,100).map(e=>o.createElement(c.Friend,{key:e.fbID,friend:e,socialMediaId:r,link:`${a}${n}${e.fbID}`}))),l&&o.createElement("div",{className:"col-12 mt-2"},o.createElement("h5",{className:"text-center text-info"},"Показані перші ",100," друзів з"," ",e.length,"...")))}},function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Friend=void 0;const i=l(a(0)),o=a(1);t.Friend=({friend:e,socialMediaId:t,link:a})=>i.createElement("a",{target:"_blank",href:a,className:"d-flex flex-row align-items-center border rounded"},i.createElement("img",{src:t===o.ESocialMedia.fb&&e.face||"img/man.jpg",className:"rounded-left"}),i.createElement("div",{className:"ml-2"},i.createElement("h6",{className:"mb-0"},e.title),i.createElement("small",null,"ID: ",e.fbID)))}]);